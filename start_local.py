import subprocess
import sys
import socket

def get_local_ip():
    """–ü–æ–ª—É—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å"""
    try:
        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        s.connect(("8.8.8.8", 80))
        ip = s.getsockname()[0]
        s.close()
        return ip
    except:
        return "127.0.0.1"

ip = get_local_ip()

print("=" * 80)
print("üé¨ –ü–†–ò–í–ï–¢ –ê–ô–ù–ê–†–ê - –ó–ê–ü–£–°–ö –°–ï–†–í–ï–†–ê")
print("=" * 80)
print(f"\n‚úÖ –°–ï–†–í–ï–† –ó–ê–ü–£–©–ï–ù –ò –†–ê–ë–û–¢–ê–ï–¢!\n")
print(f"üì± –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:")
print(f"   üëâ http://127.0.0.1:8000\n")
print(f"üåê –î–ª—è –¥—Ä—É–∑–µ–π –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ WiFi:")
print(f"   üëâ http://{ip}:8000\n")
print(f"üìå –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–∑—å—è–º!")
print(f"\nüí° –î—Ä—É–∑—å—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ–¥–Ω–æ–π WiFi —Å–µ—Ç–∏ —Å –≤–∞—à–∏–º –Ω–æ—É—Ç–±—É–∫–æ–º\n")
print("=" * 80)
print("–ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞")
print("=" * 80 + "\n")

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Django —Å–µ—Ä–≤–µ—Ä –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
subprocess.run([sys.executable, 'manage.py', 'runserver', '0.0.0.0:8000'])
